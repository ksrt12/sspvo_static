"use strict";(self.webpackChunksspvo=self.webpackChunksspvo||[]).push([[235],{653:function(e,t,n){var a=n(885),s=n(791),r=n(389);t.Z=function(e){var t=e.disabledDefault,n=e.convertDefault,i=(e.getZeroFunc,e.handlerFunc,e.type,(0,s.useState)("")),c=(0,a.Z)(i,2),o=c[0],u=c[1],d=(0,s.useState)(""),l=(0,a.Z)(d,2),_=l[0],p=l[1],m=(0,s.useState)(""),g=(0,a.Z)(m,2),f=g[0],b=g[1],h=(0,s.useState)(50),v=(0,a.Z)(h,2),x=v[0],k=v[1],y=(0,s.useState)(10),Z=(0,a.Z)(y,2),S=Z[0],j=Z[1],w=(0,s.useState)(n),C=(0,a.Z)(w,2),A=C[0],D=C[1],B=(0,s.useState)(1),E=(0,a.Z)(B,2),F=E[0],N=E[1],O=(0,s.useState)(0),U=(0,a.Z)(O,2);return{start:F,setStart:N,end:U[0],setEnd:U[1],currAbit:o,sca:u,status:_,ss:p,counter:f,sc:b,saveAt:x,setSaveAt:k,resize:S,setResize:j,convert:A,setConvert:D,runBtn:(0,r.Z)("run","RUN",t)}}},235:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var a=n(942),s=n(413),r=n(982),i=n(165),c=n(762),o=n(861),u=n(885),d=n(791),l=n(884),_=n(731),p=n(115),m=p.f.get,g=p.f.post;function f(e,t,n){return{doc_series:e.documents.person_id.series,doc_number:e.documents.person_id.number,issue_date:(0,p.o$)(e.documents.person_id.issued_date),subdivision_code:e.documents.person_id.division_code,doc_organization:e.documents.person_id.division_name,surname:e.full_name.last_name,name:e.full_name.first_name,patronymic:e.full_name.middle_name,id_okcm:(0,_.Us)(e.citizenship),id_document_type:(0,_.Cq)(e.documents.person_id.type),uid:"".concat(t,"_person_id"),id_entrant:n}}function b(e,t,n,a){return{id_education_level:2,id_entrant:n,id_document_type:7,id_ident_document:a,doc_version:31,doc_number:e.document_education.number,issue_date:(0,p.o$)(e.document_education.issued_date),doc_org:e.university.name,uid:"".concat(t,"_education"),doc_name:"\u0410\u0442\u0442\u0435\u0441\u0442\u0430\u0442 \u043e \u0441\u0440\u0435\u0434\u043d\u0435\u043c (\u043f\u043e\u043b\u043d\u043e\u043c) \u043e\u0431\u0449\u0435\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0438"}}function h(e,t,n,a,s){var r=(0,_.kn)(t.discipline);return{id_region:(0,_.FI)(e.university.region),id_subject:r,mark:t.scores,result_date:"".concat(t.year,"-07-18"),id_entrant:a,id_document_type:3,id_ident_document:s,issue_date:"".concat(t.year,"-07-18"),doc_version:47,doc_org:e.university.name,uid:"".concat(n,"_education_ege_").concat(r),doc_name:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0415\u0413\u042d"}}function v(e,t,n,a){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)((0,i.Z)().mark((function e(t,n,a,r){var o,u,d,l,_,x,y,Z,S,j,w,C,A,D,B,F,N,O,U,q,z,G,I,T,R,J,L,P,M,K,V,$,H;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.oi)(r,r.snils);case 2:if(o=e.sent,u=o.sspvo_id,d=o.snils,n("\u0421\u043d\u0438\u043b\u0441 ".concat(d)),console.log("\u0421\u043d\u0438\u043b\u0441 ".concat(d)),l=t.application.user.student_details_id,n("ITMO UID ".concat(l)),_=[],!u){e.next=87;break}return r.gu_id=u,x=!1,e.next=15,m("/api/entrants/".concat(u,"/short"));case 15:return y=e.sent,r.gu_attestat_orig=!1,y.done&&(r.gu_attestat_orig=y.data.orig_doc),n("\u041d\u0430\u0439\u0434\u0435\u043d \u0432 \u0431\u0430\u0437\u0435 \u0413\u0423 \u0418\u0422\u041c\u041e, id ".concat(u)),Z={passport:{exist:!1,id:0},attestat:{exist:!1,id:0,count:0},ege:[],egeFull:{}},S=function(e){var t=e.id_document_type;switch(1!==t&&40!==t||r.passport_match&&!e.checked||(console.log("\u041d\u0430\u0439\u0434\u0435\u043d \u041f\u0430\u0441\u043f\u043e\u0440\u0442"),n("\u041d\u0430\u0439\u0434\u0435\u043d \u041f\u0430\u0441\u043f\u043e\u0440\u0442, id ".concat(e.id)),Z.passport.id=e.id,Z.passport.exist=!0,r.gu_series=e.doc_series||"",r.gu_number=e.doc_number||"",r.passport_match=r.gu_series===r.abit_series&&r.gu_number===r.abit_number),t){case 503:if(null!==e.name_subject){x=!0;var a=Object.hasOwn(Z.egeFull,e.name_subject);console.log(e.name_subject,e.mark,e.id),n("\u041d\u0430\u0439\u0434\u0435\u043d \u0415\u0413\u042d, ".concat(e.name_subject,", ").concat(e.mark)),_.push({id:e.id,name:e.name_subject,points:e.mark||0,status:!0}),Z.ege.push(e.name_subject),(!a||a&&e.checked)&&(Z.egeFull[e.name_subject]={id:e.id,points:e.mark})}break;case 7:case 9:case 10:r.attestat_match&&!e.checked||(console.log("\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043e\u0431 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0438",e.id),n("\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043e\u0431 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0438, ".concat(e.id)),Z.attestat.id=e.id,Z.attestat.count+=1,Z.attestat.exist=!0,r.gu_attestat_number=e.doc_number||"",r.attestat_match=r.abit_attestat_number===r.gu_attestat_number||r.abit_attestat_number===e.doc_series+r.gu_attestat_number)}},e.next=23,m("/api/entrants/".concat(u,"/docs/short?categories=identification"));case 23:if(!(j=e.sent).done){e.next=38;break}if(0!==j.data.length){e.next=36;break}if((0,p.B7)(r,"error_passport","\u041d\u0435\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432"),!a.addDocs){e.next=34;break}return console.log("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),w=(0,p.A)(f(t.personally,l,u)),e.next=32,(0,p.RL)("/api/docs/idents/add",w);case 32:Z.passport.id=e.sent,Z.passport.exist=Boolean(Z.passport.id);case 34:e.next=38;break;case 36:null===(C=j.data[0])||void 0===C||null===(A=C.docs)||void 0===A||A.forEach(S),!r.passport_match&&t.personally.documents.is_have_old_passport&&(r.error_passport="\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0441\u043f\u043e\u0440\u0442?",F=t.personally.documents.passport_old,r.abit_number=null===F||void 0===F?void 0:F.number,r.abit_series=null===F||void 0===F?void 0:F.series,Z.passport.exist=!1,null===(D=j.data[0])||void 0===D||null===(B=D.docs)||void 0===B||B.forEach(S));case 38:return e.next=40,m("/api/entrants/".concat(u,"/docs/short?no_categories=identification"));case 40:if(!(N=e.sent).done){e.next=83;break}if(0===N.data.length?(0,p.B7)(r,"attestat_error","\u041d\u0435\u0442 \u0410\u0442\u0442\u0435\u0441\u0442\u0430\u0442\u0430, \u043d\u0435\u0442 \u0415\u0413\u042d"):null===(O=N.data[0])||void 0===O||null===(U=O.docs)||void 0===U||U.forEach(S),Z.attestat.exist||!a.addDocs){e.next=50;break}return console.log("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0442\u0430"),q=(0,p.A)(b(t.education,l,u,Z.passport.id)),e.next=48,(0,p.RL)("/api/docs/add",q);case 48:Z.attestat.id=e.sent,Z.attestat.exist=Boolean(Z.attestat.id);case 50:if(!a.addDocs||x&&!(Z.ege.length<t.exams.exams.length)){e.next=75;break}console.log("\u0427\u0442\u043e \u0442\u043e \u0441 \u0435\u0433\u044d"),z=(0,c.Z)(t.exams.exams),e.prev=53,z.s();case 55:if((G=z.n()).done){e.next=66;break}if(I=G.value,Z.ege.includes(I.discipline)){e.next=64;break}return console.log("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435",I.discipline),T=(0,p.A)(h(t.education,I,l,u,Z.passport.id)),e.next=62,(0,p.RL)("/api/docs/add",T);case 62:R=e.sent,Z.egeFull[I.discipline]={id:R,points:I.scores};case 64:e.next=55;break;case 66:e.next=71;break;case 68:e.prev=68,e.t0=e.catch(53),z.e(e.t0);case 71:return e.prev=71,z.f(),e.finish(71);case 74:case 75:if(!Z.attestat.exist){e.next=83;break}if(r.gu_attestat_orig){e.next=82;break}if(!(null!==(J=a.guSets)&&void 0!==J&&J.includes("orig")||r.passport_match&&r.attestat_match)){e.next=80;break}return e.next=80,k(u,Z.attestat.id,t,r);case 80:e.next=83;break;case 82:console.log("\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b!");case 83:return e.next=85,E({sspvo_id:u,uid:l,attestat_id:Z.attestat.id},t.achievements.achievements,n,Z.egeFull,a,r,t);case 85:e.next=112;break;case 87:if(!a.searchInGUDB){e.next=111;break}if(console.log("\u041f\u043e\u0438\u0441\u043a \u0432 \u043e\u0431\u0449\u0435\u0439 \u0431\u0430\u0437\u0435 \u0413\u0423"),0===t.personally.documents.person_id.scans.length){e.next=109;break}return L=r.name,P=r.surname,M=r.patronymic,K={name:L,surname:P,patronymic:M},e.next=94,g("/api/entrant/search",K);case 94:if(!(V=e.sent).done){e.next=109;break}return $=V.data.id,n("\u041d\u0430\u0439\u0434\u0435\u043d \u0432 \u043e\u0431\u0449\u0435\u0439 \u0431\u0430\u0437\u0435 \u0413\u0423, id ".concat($)),console.log("\u041d\u0430\u0439\u0434\u0435\u043d \u0432 \u043e\u0431\u0449\u0435\u0439 \u0431\u0430\u0437\u0435 \u0413\u0423, id ".concat($)),e.next=101,g("/api/entrants/".concat($,"/link/add"),(0,s.Z)((0,s.Z)({},K),{},{id:$}));case 101:if(!(H=e.sent).done){e.next=108;break}return n("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0431\u0430\u0437\u0443 \u0418\u0422\u041c\u041e"),e.next=106,v(t,n,a,r);case 106:e.next=109;break;case 108:console.log(H.message);case 109:e.next=112;break;case 111:(0,p.B7)(r,"error_gu_search","\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u043b\u044e\u0434\u0435\u0439 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043d\u0430 \u0413\u0423!");case 112:case"end":return e.stop()}}),e,null,[[53,68,71,74]])})))).apply(this,arguments)}function k(e,t,n,a){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)((0,i.Z)().mark((function e(t,n,a,s){var r,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=a.application.user).is_send_original){e.next=6;break}return e.next=4,g("/api/entrants/".concat(t,"/original-education-document"),{id_document:n,orig_doc_date:r.is_send_original_updated_at||"2022-07-28T15:00:00+03:00"});case 4:c=e.sent,s.gu_attestat_orig=c.done;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=[];function S(e,t,n,a,s,r,i){return j.apply(this,arguments)}function j(){return(j=(0,o.Z)((0,i.Z)().mark((function e(t,n,a,s,r,o,u){var d,_,p,f,b,h,v,x,k,y,S,j,w,C,A,D;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=t.id,_=t.comment.slice(2,10),s("\u0417\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u0435 ".concat(_)),u.epgu_id=t.uid_epgu||0,u.appl_id=d,u.appl_name=_+".",(p={id:d,name:_}).errors=[],p.info=[],!Z.includes(_.slice(0,8))){e.next=14;break}console.log("TEMP SKIP",_),p.errors.push("\u0412\u0430\u0440\u0438\u0430\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0435\u0449\u0451 \u043d\u0435 \u043f\u043e\u0447\u0438\u043d\u0438\u043b\u0438 \u043d\u0430 \u0413\u0423!"),e.next=88;break;case 14:if(!o.changeStatus){e.next=58;break}return e.next=18,m("/api/applications/".concat(d,"/tests/list"));case 18:if(!(b=e.sent).done){e.next=58;break}h=(0,c.Z)(b.data),e.prev=21,h.s();case 23:if((v=h.n()).done){e.next=45;break}if(4!==(x=v.value).id_entrance_test_type){e.next=43;break}if(x.app_entrance_test){e.next=43;break}k=0,y=Object.keys(r);case 28:if(!(k<y.length)){e.next=43;break}if(S=y[k],0===r[S].id&&p.errors.push("ID=0, "+x.name_subject),!S.includes(x.name_subject)){e.next=39;break}return console.log("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0415\u0413\u042d \u0432 \u0412\u0418",x.name_subject,r[S]),e.next=35,g("/api/applications/".concat(d,"/tests/add"),{id_entrance_test:x.id,result_value:r[S].points,uid:null,id_document:r[S].id,document_name:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0415\u0413\u042d",id_result_source:1});case 35:e.sent.done&&(console.log("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e",S),p.info.push("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0415\u0413\u042d ".concat(S))),e.next=40;break;case 39:p.errors.push("\u041d\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0415\u0413\u042d "+x.name_subject);case 40:k++,e.next=28;break;case 43:e.next=23;break;case 45:e.next=50;break;case 47:e.prev=47,e.t0=e.catch(21),h.e(e.t0);case 50:return e.prev=50,h.f(),e.finish(50);case 53:if(!o.changeStatus){e.next=58;break}return e.next=56,(0,l.rm)(d,"in_competition",{comment:"\u041f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u043a\u0443\u0440\u0441\u043d\u044b\u0445 \u0441\u043f\u0438\u0441\u043a\u043e\u0432 \u043e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f...",id_notices_types:10});case 56:(j=e.sent).done&&console.log(j.message,"\u0412 \u043a\u043e\u043d\u043a\u0443\u0440\u0441\u0435!");case 58:if(null===(f=o.guChecks)||void 0===f||!f.includes("sums")){e.next=88;break}return e.next=61,m("/api/applications/".concat(d,"/points_sum"));case 61:if(!(w=e.sent).done){e.next=88;break}if((C=n.reduce((function(e,t){return e+=t.scores}),0))>10&&(C=10),w.data.sum_achievements!==C){e.next=70;break}console.log("\u0421\u0443\u043c\u043c\u044b \u0418\u0414 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442!"),p.sumStatus="OK",e.next=83;break;case 70:if(!(w.data.sum_achievements>C)){e.next=76;break}A="\u0421\u0443\u043c\u043c\u0430 \u043d\u0430 \u0421\u0421\u041f\u0412\u041e \u0431\u043e\u043b\u044c\u0448\u0435 \u0447\u0435\u043c \u0432 \u0418\u0422\u041c\u041e! ".concat(w.data.sum_achievements," ").concat(C),console.log(A),p.sumStatus=A,e.next=83;break;case 76:if(w.data.sum_achievements===C||!o.addDocs){e.next=83;break}return console.log("\u0421\u0443\u043c\u043c\u044b \u0418\u0414 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442!",w.data.sum_achievements,C),s("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0418\u0414 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443..."),e.next=81,g("/api/applications/".concat(d,"/achievements/add"),{id_document:a.attestat_id,id_category:11,name:"\u0414\u0440\u0443\u0433\u0438\u0435 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f",mark:C-w.data.sum_achievements,uid:"".concat(a.uid,"_achievements_other_").concat(d),id_achievement:null});case 81:(D=e.sent).done&&(console.log(D.message),p.info.push("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0418\u0414"));case 83:p.sumTotal=w.data.sum_tests+w.data.sum_achievements,u.abit_sums_ach=C,u.gu_sums_ach=w.data.sum_achievements,u.gu_sums_ege=w.data.sum_tests,u.gu_sums_total=p.sumTotal;case 88:case"end":return e.stop()}}),e,null,[[21,47,50,53]])})))).apply(this,arguments)}function w(e,t,n){return C.apply(this,arguments)}function C(){return(C=(0,o.Z)((0,i.Z)().mark((function e(t,n,a){var s,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("general_competition"===a){e.next=6;break}return n.benefints="\u041e\u0441\u043e\u0431\u043e\u0435 \u043f\u0440\u0430\u0432\u043e \u043d\u0435 \u0441\u0442\u043e\u0438\u0442",e.next=4,m("/api/applications/".concat(t,"/main"));case 4:(s=e.sent).done&&0!==(null===(r=s.data.benefits)||void 0===r?void 0:r.length)&&null!==r&&void 0!==r&&r[0]&&(n.benefints=r[0].name_benefit);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n,a){return D.apply(this,arguments)}function D(){return(D=(0,o.Z)((0,i.Z)().mark((function e(t,n,a,s){var r,c,o,u,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/api/applications/".concat(t,"/info/agreed"));case 2:if(!(r=e.sent).done){e.next=18;break}if(n.agreement=Boolean(r.data.agreed),n.agreement||null===(c=s.guSets)||void 0===c||!c.includes("agreement")){e.next=18;break}return e.next=8,m("/api/applications/".concat(t,"/info"));case 8:if(!(o=e.sent).done){e.next=18;break}return(u=o.data).agreed=!0,u.agreed_date=a||"2022-07-28T15:00:00+03:00",e.next=15,g("/api/applications/".concat(t,"/info/edit"),u);case 15:d=e.sent,(0,p.B7)(n,"agreement_log","\u0421\u043e\u0433\u043b\u0430\u0441\u0438\u0435 ".concat(d.done?"":"\u043d\u0435 ","\u043f\u0440\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e!")),n.agreement=d.done;case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){var n,a;if(e.letter="\u041e","contract"===t.financing)e.letter="\u041a";else switch(t.admission_condition){case"by_special_quota":e.letter="\u0421";break;case"by_target_quota":e.letter="\u0426";break;case"by_unusual_quota":e.letter="\u041b";break;case"on_state_line":e.letter="\u0418"}return[(null===(n=t.competitive_group)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.slice(0,8))+" (".concat(e.letter,")"),t.admission_condition]}function E(e,t,n,a,s,r,i){return F.apply(this,arguments)}function F(){return(F=(0,o.Z)((0,i.Z)().mark((function e(t,n,a,s,r,o,d){var l,p,f,b,h,v,x,k,y,Z,j,C,D;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.group("\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u0439"),l=B(o,d.application.agreement.selected_program),p=(0,u.Z)(l,2),f=p[0],b=p[1],e.next=4,m("/api/entrants/".concat(t.sspvo_id,"/applications"));case 4:if(!(h=e.sent).done){e.next=29;break}v=(0,c.Z)(h.data),e.prev=7,v.s();case 9:if((x=v.n()).done){e.next=19;break}if(k=x.value,!r.guStatuses.includes(k.code_status)){e.next=17;break}if(!k.comment.includes(f)){e.next=17;break}return console.group("\u0417\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u0435",f),e.next=16,Promise.all([w(k.id,o,b),A(k.id,o,null===d||void 0===d?void 0:d.application.user.is_send_original_updated_at,r),S(k,n,t,a,s,r,o)]);case 16:console.groupEnd();case 17:e.next=9;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(7),v.e(e.t0);case 24:return e.prev=24,v.f(),e.finish(24);case 27:case 29:e.next=52;break;case 35:if((Z=y.n()).done){e.next=44;break}return j=Z.value,C="\u041e","contract"===j.financing?C="\u041a":"by_unusual_quota"===j.admission_condition&&(C="\u041b"),D=(0,_.xS)("".concat(j.direction_code," (").concat(C,")")),e.next=42,g("/api/applications/add",{id_competitive_group:D,id_entrant:90178,docs:[{document_name:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430 \u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u043e\u0439 \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u0438",id:75699,name_category:"idents",name_type:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430 \u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u043e\u0439 \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u0438",type:"idents"},{document_name:"\u0410\u0442\u0442\u0435\u0441\u0442\u0430\u0442 \u043e \u0441\u0440\u0435\u0434\u043d\u0435\u043c (\u043f\u043e\u043b\u043d\u043e\u043c) \u043e\u0431\u0449\u0435\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0438",id:113306,name_category:"docs",name_type:"\u0410\u0442\u0442\u0435\u0441\u0442\u0430\u0442 \u043e \u0441\u0440\u0435\u0434\u043d\u0435\u043c (\u043f\u043e\u043b\u043d\u043e\u043c) \u043e\u0431\u0449\u0435\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0438",type:"docs"}],ids_benefits:[],app_number:"1",registration_date:"2022-07-18T00:00:00+03:00",uid:null,rating:null,priority:1,first_higher_education:!0,agree_epgu:!1,original_doc:null,agreed:null,agreed_date:null,need_hostel:!1,special_conditions:!1,id_target_organization:null});case 42:e.next=35;break;case 44:e.next=49;break;case 46:e.prev=46,e.t1=e.catch(33),y.e(e.t1);case 49:return e.prev=49,y.f(),e.finish(49);case 52:console.groupEnd();case 53:case"end":return e.stop()}}),e,null,[[7,21,24,27],[33,46,49,52]])})))).apply(this,arguments)}function N(e,t){var n;null!==(n=t.guChecks)&&void 0!==n&&n.includes("sums")||(delete e.abit_sums_ach,delete e.gu_sums_ach,delete e.gu_sums_ege,delete e.gu_sums_total)}function O(e){var t={gu_id:"id \u0413\u0423",epgu_id:"\u0415\u041f\u0413\u0423",phone:"\u0442\u0435\u043b\u0435\u0444\u043e\u043d",full_name:"\u0424\u0418\u041e",delo:"\u0434\u0435\u043b\u043e",snils:"\u0441\u043d\u0438\u043b\u0441",surname:"\u0444\u0430\u043c\u0438\u043b\u0438\u044f",name:"\u0438\u043c\u044f",patronymic:"\u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",gu_series:"\u0433\u0443 \u0441\u0435\u0440\u0438\u044f",gu_number:"\u0433\u0443 \u043d\u043e\u043c\u0435\u0440",abit_series:"\u0430\u0431\u0438\u0442 \u0441\u0435\u0440\u0438\u044f",abit_number:"\u0430\u0431\u0438\u0442 \u043d\u043e\u043c\u0435\u0440",passport_match:"\u043f\u0430\u0441\u0441\u043f\u043e\u0440\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442",abit_attestat_number:"\u0430\u0431\u0438\u0442 \u0430\u0442\u0435\u0441\u0442\u0430\u0442",gu_attestat_number:"\u0433\u0443 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0442",attestat_match:"\u0430\u0442\u0435\u0441\u0442\u0430\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442",gu_attestat_orig:"\u0433\u0443 \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b",appl_id:"id \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u044f",appl_name:"\u041a\u0413",letter:"\u0443\u0441\u043b\u043e\u0432\u0438\u0435",agreement:"\u0433\u0443 \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435",abit_benefints:"\u0430\u0431\u0438\u0442 \u0443\u0441\u043b\u043e\u0432\u0438\u0435",abit_financing:"\u0430\u0431\u0438\u0442 \u0431\u044e\u0434\u0436\u0435\u0442",benefints:"\u043e\u0441\u043e\u0431\u043e\u0435 \u043f\u0440\u0430\u0432\u043e",abit_sums_ach:"\u0430\u0431\u0438\u0442 \u0441\u0443\u043c\u043c\u0430 \u0438\u0434",gu_sums_ach:"\u0433\u0443 \u0441\u0443\u043c\u043c\u0430 \u0438\u0434",gu_sums_ege:"\u0433\u0443 \u0435\u0433\u044d",gu_sums_total:"\u0433\u0443 \u0432\u0441\u0435\u0433\u043e",agreement_log:"\u043b\u043e\u0433 \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435",admc_error:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438",skip_admc:"\u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043e",skip_achievements:"\u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043e \u0438\u0434",error_gu_search:"\u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u043d\u0430 \u0433\u0443",error_passport:"\u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430",attestat_error:"\u043e\u0448\u0438\u0431\u043a\u0430 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0442"};return N(t,e),{0:t}}function U(){return(U=(0,o.Z)((0,i.Z)().mark((function e(t,n,a,s){var r,c,o,u,d,l,_,m,g,f,b,h,x,k,y,Z,S,j,w,C;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(S={gu_id:-1,epgu_id:-1,phone:(null===(r=t.personally.contact)||void 0===r?void 0:r.phone)||"",full_name:"",delo:t.application.number,snils:(null===(c=t.personally.documents.snils)||void 0===c||null===(o=c.number)||void 0===o?void 0:o.trim())||"",surname:t.personally.full_name.last_name.trim(),name:t.personally.full_name.first_name.trim(),patronymic:(null===(u=t.personally.full_name.middle_name)||void 0===u?void 0:u.trim())||"",gu_series:"",gu_number:"",abit_series:(null===(d=t.personally.documents.person_id.series)||void 0===d?void 0:d.trim())||"",abit_number:(null===(l=t.personally.documents.person_id.number)||void 0===l?void 0:l.trim())||"",passport_match:!1,abit_attestat_number:(null===(_=t.education)||void 0===_||null===(m=_.document_education)||void 0===m||null===(g=m.number)||void 0===g?void 0:g.trim())||"",gu_attestat_number:"",attestat_match:!1,gu_attestat_orig:!1,appl_id:-1,appl_name:"",letter:"unknown",agreement:"unknown",abit_benefints:"",abit_financing:"",benefints:"",abit_sums_ach:-1,gu_sums_ach:-1,gu_sums_ege:-1,gu_sums_total:-1,agreement_log:"",admc_error:"",skip_admc:"",skip_achievements:"",error_gu_search:"",error_passport:"",attestat_error:""},s),j="".concat(S.surname," ").concat(S.name," ").concat(S.patronymic),n(j),S.full_name=j,w=null===(f=t.application.agreement)||void 0===f||null===(b=f.selected_program)||void 0===b?void 0:b.admission_condition,S.abit_benefints=w,S.abit_financing=null===(h=t.application.agreement)||void 0===h||null===(x=h.selected_program)||void 0===x?void 0:x.financing,null===(k=s.abitConditions)||void 0===k||!k.includes(w)){e.next=24;break}if(!(s.onlyAch&&null!==(C=t.achievements)&&void 0!==C&&C.is_have_achievements||!s.onlyAch)){e.next=21;break}if(console.group(j),console.log(t.application.number),!t.application.agreement.selected_program){e.next=17;break}return e.next=15,v(t,a,s,S);case 15:e.next=18;break;case 17:(0,p.B7)(S,"admc_error","Empty");case 18:console.groupEnd(),e.next=22;break;case 21:(0,p.B7)(S,"skip_achievements","\u041d\u0435\u0442 \u0418\u0414 \u0432 \u0410\u0431\u0438\u0442\u0435");case 22:e.next=24;break;case 24:return e.abrupt("return",[(null===(y=t.application)||void 0===y||null===(Z=y.user)||void 0===Z?void 0:Z.student_details_id)||Date.now(),S]);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=function(e,t,n,a){return U.apply(this,arguments)},z=n(893),G=n(4),I=n(653),T=n(678),R=n(184),J={limit:1,onlyAch:!1,changeStatus:!1,searchInGUDB:!1,addDocs:!1,guStatuses:["in_competition"],guChecks:["agreement","attestat"],guSets:["agreement","orig"],abitConditions:["general_competition","without_entry_tests","by_unusual_quota","by_special_quota","by_target_quota"]},L=function(){var e=(0,d.useState)(J),t=(0,u.Z)(e,2),n=t[0],l=t[1],_=(0,I.Z)({convertDefault:!0,disabledDefault:!0,getZeroFunc:O,type:"abits",handlerFunc:q}),m=_.currAbit,g=_.sca,f=_.status,b=_.ss,h=_.counter,v=_.sc,x=_.saveAt,k=_.setSaveAt,y=_.resize,Z=_.setResize,S=_.convert,j=_.setConvert,w=_.runBtn,C=_.start,A=_.setStart,D=_.end,B=_.setEnd,E=(0,d.useState)(""),F=(0,u.Z)(E,2),N=F[0],U=F[1],L=(0,d.useState)([]),P=(0,u.Z)(L,2),M=P[0],K=P[1];(0,d.useEffect)((function(){var e=M.length;e||(w.remove(),v(""),g(""),b("")),B(e)}),[M,w,v,b,g,B]);var V=function(e,t){e.preventDefault(),w.enable();var n=M.length,a=e.target.value;console.log(a);var s=Number(a);t(s<0?0:s>n?n:s)},$=(0,d.useCallback)((0,o.Z)((0,i.Z)().mark((function e(){var t,a,s,r,o,d,l,_,m;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(""),w.disable(),w.remove(),t=O(n),a=(0,p.py)(N+"AbitLog",S,y),s=M.slice(C-1,D),r=s.length,o=(0,p.Hx)(s,y),d=y,l=(0,c.Z)(o),e.prev=10,m=(0,i.Z)().mark((function e(){var s,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=_.value,d>r&&(d=r),v("".concat(Math.round(d/r*1e4)/100,"% (").concat(d,"/").concat(r,")")),c=[],s.forEach((function(e){return c.push(q(e,g,b,n))})),e.next=7,Promise.all(c).then((function(e){return e.forEach((function(e){var n=(0,u.Z)(e,2),a=n[0],s=n[1];return t[a]=s}))}));case 7:d%x===0&&w.update(a(d,t)),d+=y;case 9:case"end":return e.stop()}}),e)})),l.s();case 13:if((_=l.n()).done){e.next=17;break}return e.delegateYield(m(),"t0",15);case 15:e.next=13;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(10),l.e(e.t1);case 22:return e.prev=22,l.f(),e.finish(22);case 25:w.update(a(r,t,!1)),w.enable();case 27:case"end":return e.stop()}}),e,null,[[10,19,22,25]])}))),[M,w,C,D,n,y,x,S,N,v,b,g]),H=function(e){var t=JSON.parse(e);K((function(e){return[].concat((0,r.Z)(t.result.bachelors),(0,r.Z)(e))}))},Y=function(e){var t=e.target.id;l((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,a.Z)({},t,!n[t]))}))};return(0,R.jsxs)("div",{className:"main",children:[(0,R.jsx)("input",{id:"source",type:"file",multiple:!0,accept:"application/json",onChange:function(e){return(0,p.mb)(e,{setName:function(e){U(e)},post:function(){w.enable(),A(1),B(0)},then:H,empty:function(){return K([])}})}}),(0,R.jsxs)("label",{className:"ssel",children:["\u0421 ",(0,R.jsx)("input",{type:"number",id:"start",value:C,onChange:function(e){return V(e,A)},className:"numi"})," \u043f\u043e ",(0,R.jsx)("input",{type:"number",id:"end",value:D,onChange:function(e){return V(e,B)},className:"numi"})]}),(0,R.jsx)(G.Jg,{id:"onlyAch",check:n.onlyAch,handler:Y,text:"\u0422\u043e\u043b\u044c\u043a\u043e \u0418\u0414"}),(0,R.jsx)(G.Jg,{id:"changeStatus",check:n.changeStatus,handler:Y,text:"\u041c\u0435\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"}),(0,R.jsx)("label",{children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0413\u0423"}),(0,R.jsx)(z.N.GUStatuses,{handler:function(e){return l((function(t){return(0,s.Z)((0,s.Z)({},t),{},{guStatuses:e.map((function(e){return e.value}))})}))},defOpt:J.guStatuses}),(0,R.jsx)("label",{children:"\u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0418\u0422\u041c\u041e"}),(0,R.jsx)(z.N.AbitCondition,{handler:function(e){return l((function(t){return(0,s.Z)((0,s.Z)({},t),{},{abitConditions:e.map((function(e){return e.value}))})}))},defOpt:J.abitConditions}),(0,R.jsx)("label",{children:"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c"}),(0,R.jsx)(z.N.GUChecks,{handler:function(e){return l((function(t){return(0,s.Z)((0,s.Z)({},t),{},{guChecks:e.map((function(e){return e.value}))})}))},defOpt:J.guChecks}),(0,R.jsx)("label",{children:"\u041f\u0440\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c"}),(0,R.jsx)(z.N.GUSets,{handler:function(e){return l((function(t){return(0,s.Z)((0,s.Z)({},t),{},{guSets:e.map((function(e){return e.value}))})}))},defOpt:J.guSets}),(0,R.jsx)(G.GU.Save,{value:x,setFunc:k}),(0,R.jsx)(G.GU.Split,{value:y,setFunc:Z}),(0,R.jsx)(G.Jg,{id:"toCSV",check:S,handler:function(e){return j(e.target.checked)},text:"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 CSV"}),(0,R.jsx)(T.Z,{p:w.p,func:$}),(0,R.jsxs)("p",{children:["\u0410\u0431\u0438\u0442\u0443\u0440\u0438\u0435\u043d\u0442: ",m]}),(0,R.jsxs)("p",{children:["\u0412\u0441\u0435\u0433\u043e ",h]}),(0,R.jsx)("p",{children:f})]})}}}]);
//# sourceMappingURL=235.0b7850b8.chunk.js.map